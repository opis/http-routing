<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="php, routing, HTTP routing, handle HTTP requests">
<meta name="description" content="Examples that show you how to use this library">
<title>Examples | Opis HTTP Routing</title>
        
        <link href="/assets/img/favicon.png" rel="shortcut icon">
        
        <link rel="stylesheet" href="/assets/css/flatly-theme.min.css">
<link href="/assets/css/font-awesome.css" rel="stylesheet">

<link href="/assets/css/syntax.css" rel="stylesheet">



<link href="/assets/css/style.css" rel="stylesheet">


        <!--[if lt IE 9]>
<script src="/assets/js/html5shiv.js"></script>
<script src="/assets/js/respond.min.js"></script>
<![endif]-->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/assets/js/jquery-1.11.0.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/assets/js/bootstrap.min.js"></script>


    </head>
    <body>
        <div id="header" class="container">
    <ul class="nav nav-pills pull-right">
        <li>
            <a href="/" title="Main page">
                <span class="fa fa-home"></span> Home
            </a>
        </li>
        <li>
            <a href="https://github.com/opis/http-routing" title="Github page">
                <span class="fa fa-github fa-lg"></span> GitHub
            </a>
        </li>
        <li>
            <a href="http://twitter.com/opisproject" target="_blank" title="Twitter page">
                <span class="fa fa-twitter"></span> Twitter
            </a>
        </li>
    </ul>
    <h3 class="text-muted">
        <img src="/assets/img/opis-100.png" class="img-responsive opis-inline-logo">
        <strong>Http routing</strong>
    </h3>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-4">
            <div class="list-group">
            
                
                    
<a href="/http-routing" class="list-group-item">

    <h4 class="list-group-item-heading">Home</h4>
    <p class="list-group-item-text text-muted">
        Getting started with Opis HTTP Routing
    </p>
</a>
                
            
                
                    
<a href="/http-routing/example.html" class="list-group-item active">

    <h4 class="list-group-item-heading">Examples</h4>
    <p class="list-group-item-text text-muted">
        Examples of how to use this library
    </p>
</a>
                
            
            </div>
        </div>
        <div class="col-md-8">
            <h1><strong>Examples</strong></h1>

<p class="well text-primary">
    <strong><span class="fa fa-pencil"></span> TODO:</strong>
    Provide a more detailed documentation for this library.
</p>

<div class="highlight"><pre><code class="php"><span class="k">use</span> <span class="nx">\Opis\HttpRouting\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">\Opis\HttpRouting\Router</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">\Opis\HttpRouting\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">\Opis\HttpRouting\Path</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RouteCollection</span><span class="p">();</span>

<span class="nv">$collection</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">Route</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;/{category}&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">){</span>
        <span class="k">return</span> <span class="nv">$category</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="o">-&gt;</span><span class="na">domain</span><span class="p">(</span><span class="s1">&#39;{subdomain?}.localhost&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;subdomain&#39;</span><span class="p">,</span> <span class="s1">&#39;php&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;[a-z]+&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$category</span><span class="p">){</span>
        <span class="k">return</span> <span class="nx">strtoupper</span><span class="p">(</span><span class="nv">$category</span><span class="p">);</span>
    <span class="p">});</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">notFound</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$path</span><span class="p">){</span>
   <span class="k">return</span> <span class="s1">&#39;Not found &#39;</span> <span class="o">.</span> <span class="nv">$path</span><span class="o">-&gt;</span><span class="na">domain</span><span class="p">()</span> <span class="o">.</span> <span class="nv">$path</span><span class="p">;</span> 
<span class="p">});</span>


<span class="nv">$router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Router</span><span class="p">(</span><span class="nv">$collection</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="k">new</span> <span class="nx">Path</span><span class="p">(</span><span class="s1">&#39;/webservice&#39;</span><span class="p">));</span> <span class="c1">//&gt; WEBSERVICE</span>
<span class="k">print</span> <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="k">new</span> <span class="nx">Path</span><span class="p">(</span><span class="s1">&#39;/webservice&#39;</span><span class="p">,</span> <span class="s1">&#39;php.localhost&#39;</span><span class="p">));</span> <span class="c1">//&gt; WEBSERVICE</span>
<span class="k">print</span> <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="k">new</span> <span class="nx">Path</span><span class="p">(</span><span class="s1">&#39;/webservice&#39;</span><span class="p">,</span> <span class="s1">&#39;www.localhost&#39;</span><span class="p">));</span> <span class="c1">//&gt; Not found www.localhost/webservice</span>

<span class="c1">//Serialization</span>
<span class="nv">$collection</span> <span class="o">=</span> <span class="nb">unserialize</span><span class="p">(</span><span class="nb">serialize</span><span class="p">(</span><span class="nv">$collection</span><span class="p">));</span>

<span class="nv">$router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Router</span><span class="p">(</span><span class="nv">$collection</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="k">new</span> <span class="nx">Path</span><span class="p">(</span><span class="s1">&#39;/serialization&#39;</span><span class="p">,</span> <span class="s1">&#39;php.localhost&#39;</span><span class="p">));</span> <span class="c1">//&gt; SERIALIZATION</span>
</code></pre></div>
            





    
        
            
                
            
        
    

    
        
            
        
    


<ul class="pager">
  
  <li class="previous"><a href="/http-routing" title="Home">&larr; Back</a></li>
  
  
</ul>
            
        </div>
    </div>
</div>
<div id="footer" class="text-center text-muted">
    Copyright &copy; 2014 Marius Sarca. All rights reserved.
</div>

    </body>
</html>
